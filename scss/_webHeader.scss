// .webHeader 版頭 /////////////////////////////////////////////////
.webHeader{
  position: relative; z-index: 990;
  margin: 0 auto;padding:0;
  // box-shadow: rgba(0,0,0,.5) 0 -2px 6px;
  transition: .3s;
  
  // &.fixed{
  //   position: fixed; top: 0; left: 0; right: 0;
  //   box-shadow: rgba(0,0,0,.3) 0 2px 16px;
  // }

  h1 {
    margin: 0 70px; padding:11px 0 0; 
    height: 64px; text-align: center; font-size: 1.5em;
    a{ display: block;}
    img{
      display: block; width:100%; height: 42px; object-fit: contain;
      margin: 0 auto;
    }
  }
  .sideLink{display: none;}

  @media screen and (min-width: $wwNormal){
    height: auto; 
    background-color: transparent; box-shadow: none;
    h1{
      position: static; width: auto;
      margin: 0 0 0 50px; padding: 50px 0 38px; height: auto;
      width: 310px;
      transform: none;text-align: left; line-height: 1;
      a{
        display: block;
        &:focus{box-shadow: $linkColor 0 0 0 2px;}
      }
      img{width: 305px; height: auto; margin: 0; }
    }
    // 固定的版頭
    // &.fixed{
    //   h1, .topLinks, .search, .goCenter{ display: none; }
    // }

  }

  @media screen and (min-width: $wwMaximum){
    max-width: $wwMaximum;
  }
}
// -----------------------------------------------------------------



// 寬版的 .topLinks ////////////////////////////////////////////////
.webHeader .topLinks{
  display: none;
  @media screen and (min-width: $wwNormal){
    display: block; font-size: .92em;
    position: absolute; right: 50px; top: 14px;
    ul{
      display: flex;
      list-style: none; margin: 0; padding: 0; line-height: 1.2;
      
      &>li{
        position: relative;
        flex: 0 0 auto; margin: 0; padding: 0 .9em 0 1em;
        &:last-child{padding-right: 0;}
        &>a{
          display: block; position: relative; padding: 0 1px 2px;
          text-decoration: none;color: $fontColor;
          &::before, &:after{content: ''; position: absolute;}
          &::after{
            left: 50%; bottom: 0; width: 0;
            height: 2px; background-color: $primaryColor;
            transition: .2s;
          }
          &:hover, &:focus{
            &::after{left: 0; width: 100%;}
          }
        }

        &::before{
          content: ''; position: absolute; left: 0; top: .48em; height: 2px; width: 9px;
          background-color: $fontColorLight;
          transition: .2s;
        }

        &:hover{
          &::before{ left: 6px; width: 6px; height: 6px;top: .36em; background-color: $assistant;}
        }

      }
    }
  }

}
// -----------------------------------------------------------------


// 主選單（寬版、行動版） //////////////////////////////////////////
.menu{
  ul { list-style: none; margin: 0; padding: 0;}
  a{ display: block; text-decoration: none; outline: none;}
}
// -----------------------------------------------------------------


// 主選單：在版頭內（寬版） ///////////////////////////////////////
.webHeader .menu{
  display: none;
  @media screen and (min-width: $wwNormal){
    display: block; position: relative;
    margin:0; width: 270px; min-height: calc(37.5vw - 35px); padding:45px 72px 45px 50px;
    background: $primaryColor url(../images/menu_bg.jpg) no-repeat center top; color: $fontInvert;

    li{
      margin: 0; padding: 0;
      a{ color: $fontInvert;}
  
      // &.hasChild{}
    }
  
    // 第一層選單
    &>ul{
      margin: 0; padding: 0;line-height: 1.5;
      &>li{
        flex: 1 1 auto; position: relative;margin: 0;transition: .2s;
        &>a{
          position: relative;
          padding:.8em 6px .7em 12px;
          transition: .2s;
          &::before{
            content: '';
            position: absolute; left: 0; top: 1.1em; width: 3px; height: 14px;
            background-color: $white;
            transition: .2s;
          }
          &:focus, &:hover {
            background-color:rgba(255,255,255,.9); color: $primaryColor;
            padding-left: 18px; padding-right: 0;
            &::before{ top:1.1em; width: 9px; height: 9px; background-color: $assistant; }
          }
        }
        &.hasChild{
          &.here{
            &>a{
              background-color:rgba(255,255,255,.9);color: $primaryColor;
              &::before{ top:1.1em; width: 9px; height: 9px; background-color: $assistant; }
            }
          }
        }
  
        // 第二層選單
        &>ul {
          top: 0;left: 100%;z-index: 99;
          min-width: 100%;max-width: 20em;
        }
        // 第二層及其之後的選單
        ul{
          display: none; position: absolute;  width: auto; 
          text-align: left;font-size: 1rem;
          background-color: #fff; color: $black;
          box-shadow: rgba(0, 0, 0, 0.5) 0 5px 20px;
  
          &>li{
            &>a{
              color: $black; padding: .8em 1em .7em; 
              white-space: nowrap; text-overflow: ellipsis; overflow: hidden;
              border-bottom: 1px solid $borderColor;
              transition: .15s; 
              &:hover, &:focus{ 
                background-color: $primaryColor; color: $white;
              }
            }
            &:last-child>a{border-bottom-color:transparent}
  
            &.hasChild{
              &>a{
                position: relative; padding-right: 36px;
                &::after{
                  position: absolute; left: auto; right: 13px; top: 1.3em;
                  border-color: $black; transform: rotate(45deg);
                  transition: .3s;
                }
                &:hover, &:focus{
                  &::after{border-color: $white; }
                }
              }
  
              &.here{
                background-color:$primaryColor; 
                &>a{color: $white;
                  &::after{border-color: $white;}
                }
              }
  
              &.turn{
                &>a::after{ transform: rotate(225deg); right: 9px; }
              }
    
              // 第三層及其之後
              ul {
                top: 0;left: 100%;z-index: 99;
                min-width: 8em;max-width: 12em;
              }
            }
          }
        }
      }
    }

    &::after{
      content: ''; position: absolute; right: 0; bottom: 0;

      clip-path: polygon(0 0, 100% 0, 100% 100%);
      width: 70px;height: 100%;
      height: calc(100% - 37.5vw + 55px);
      background-color: rgba(255, 255, 255, .7);

    }
  

    // 次選單高度超過視窗高度時 ////////////////////////////////////
    // 控制選單上下的按鈕
    // button.downward, button.upward{
    //   position: fixed; top: calc(100vh - 36px); left: 0; z-index: 99;
    //   width: 32px; height: 32px; margin: 0; padding: 0;
    //   transform: translateX(calc(-100% - 4px));
    //   background-color: $primaryColor;box-shadow: $white 0 0 0 1px;
    //   transition:box-shadow .2s, opacity .2s;
    //   border: none;  cursor: pointer;
    //   &:hover{
    //     box-shadow: $primaryColor 0 0 0 2px;
    //   }
    //   &:focus {
    //     box-shadow: $white 0 0 0 1px inset, $primaryColor 0 0 0 2px;
    //   }
    //   &::before{
    //     content: ''; position: absolute; width: 8px; height: 8px; top: 50%; left: 50%;
    //     border: 2px solid $white; border-left: none; border-top: none;
    //   }
  
    //   &[disabled]{ 
    //     opacity: .2; cursor: default;background-color:$black;
    //     box-shadow: none;
    //   }
      
    //   &.downward{
    //     &::before{
    //       transform: translate(-4px, -6px) rotate(45deg);
    //     }
    //   }
  
    //   &.upward{
    //     top: calc(100vh - 72px); 
    //     &::before{
    //       transform: translate(-4px, -2px) rotate(225deg);
    //     }
    //   }
    // }




  
    @media screen and (min-width: $wwMaximum){      
      min-height: calc($wwMaximum*.375 - 35px);
      &::after{
        height: calc(100% - $wwMaximum*.375 + 55px);
      }
    }
  }

}
// -----------------------------------------------------------------


// // 讀者登入 ////////////////////////////////////////////////////////
// .loginHere{
//   display: none;
  
//   @media screen and (min-width: $wwNormal){
//     display: block; z-index: 99;
//     position: fixed; right: 0; top: 135px; 
//     // transform: translateX(100%);
//     transition: .6s;
//     button.ctrlBtn{
//       position: absolute; transform: translateX(-100%);
//       padding: 20px 1em;width: 3em;
//       height: auto;line-height: 1.1;
//       text-decoration: none;border-radius: 0; margin: 0;
//       background-color: $assistant;
//       color: $fontInvert;
//       &::before{
//         content: ''; display: block; width: 25px; height: 25px; margin-left: -5px;
//         background: url(../images/icon_member.png) no-repeat right 0;
//         background-size: 22px;
//         transform: scaleX(-1);
//       }
//       &:focus{
//         box-shadow: $assistant 0 0 0 2px inset, $white 0 0 0 3px inset;
//       }
//     }
  
//     .login{
//       padding:25px 20px 0; 
//       background: #fff; box-shadow: $shadowColor 0 0 50px;
//       form{ margin: 0;padding: 0;
//         &>table{
//           margin: 0 auto; padding: 0;
//           border: none; border-collapse: collapse;
//           line-height: 1.5;
//           td{
//             padding:1px; vertical-align: top;
//             &:nth-child(odd){
//               text-align: right;padding-top: .8em; padding-right: .3em;
//               color: $fontColorDark;
//               label{ display: inline-block;}
//             }
//             &:nth-child(even){
//               input{ max-width: 100%;}
//             }
//           }
//         }
//       }

//       .misce{
//         margin: 5px 0 0; padding: 2px;
//         overflow: hidden;
//         &>label{ 
//           float: left;line-height: 2; height: 1.8; padding:2px 8px 0 3px;
//           border-radius: 2px;
//           transition: .15s;
//           input{vertical-align: -15%;}
//           &:hover{box-shadow: $primaryColor 0 0 0 1px;}
//         }
//         a{ float: right;}
//       }
//       a.forget{
//         position: relative;
//         display: inline-block; text-decoration: none; 
//         padding:6px 4px 0 25px; line-height: 1.5; margin-left: 1em;
//         border-bottom: 1px solid transparent; overflow: hidden;
//         &::before{
//           content: '?'; position: absolute; top: 7px; left: 3px; width: 20px; height: 20px;
//           border-radius: 50%; text-align: center; line-height: 22px;
//           color: $fontColor; background-color: $grayLight;
//           transition: .15s;
//         }
//         &:hover, &:focus{
//           border-bottom-color: $primaryColor;
//           &::before{ background-color: $assistant; color: $fontInvert;}
//         }
//         &:focus{box-shadow: $primaryColor 0 0 0 1px;}
//       }
//       .captcha{
//         padding: 3px;
//         img{ display: inline-block; vertical-align: middle; margin:3px 5px 0 1px; height: 35px;}
//         input{ margin:6px 0 3px; display: block;width: 100%; }
//         a{ display: inline-block;}

//       }

//       .btnDv{
//         background: #eee;
//         text-align: center; margin: 15px -20px 0;
//         button, input{
//           margin: 0; height: 3.5em;
//           &:only-child{width: 100%;}
//           &:focus{
//             box-shadow: $primaryColor 0 0 0 2px inset, $white 0 0 0 3px inset;
//             background-color: $primaryColor;
//           }
//         }
//       }

//     }


  
//     &.reveal {
//       transform: translateX(0);
      
//       button.ctrlBtn{
//         &::before{transform: scaleX(1); background-position: 0 0; margin-left: 0;}
//       }
//     }

//   }
// }
// // -----------------------------------------------------------------
